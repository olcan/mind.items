#util/sample/examples/12 [Simulation](#util/sim) parameters and states can also be sampled or confined. In this example we simulate a person who sleeps, eats, and flips coins. See comments for details.
```js:js_input

// sample unknown simulation parameters and initial state
const p_heads = sample(between(0,1))
const p_hungry_on_wake = sample(between(0,1))
const x0_heads = sample(integer(0,5))
// define initial state x0
const x0 = state({ t:_6am, awake:false, flips:0, heads:x0_heads })
// simulate final state xt
const xt = simulate(x0, 3,
  // wake up daily at 8-10am, hungry w/ prob. p_hungry_on_wake
  () => wake(daily(within(9,1)), p_hungry_on_wake),
  // eat within 1h of waking if hungry
  () => eat(after(between(0,1))),
  // flip a coin daily at midnight (default schedule)
  () => flip(p_heads),
  // sleep daily at 3am
  () => sleep(daily(3)),
)
// confine final state
confine(xt.heads, 6)
confine(xt.meals, 2)

```
```js:js_removed

// defining helpers here is more readable AND more efficient (less parsing)
const awake = x => x.awake
const asleep = x => !x.awake
const awake_and_hungry = (x) => x.awake && x.hungry
const sleep = ft => _if(awake, ft, x=>x.awake=false)
const wake = (ft, p_hungry) => _if(asleep, ft, x=>{
  x.hungry = random_boolean(p_hungry)
  x.awake = true
})
const eat = ft => _if(awake_and_hungry, ft, inc({ meals:1, hungry:false }))
const flip = p_heads => _do(inc(x=>({ 
  heads:random_boolean(p_heads) ? 1 : 0,
  flips:1, 
})))

const _sample_options = { 
  stats:'mks ess wsum r t',
  max_time: 5000,
  plot:true,
  // size:1, // debug
}

```
#_util
