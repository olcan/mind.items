#util/sample/examples/12 Sample or confine [simulation](#util/sim) parameters or state.
```js:js_input

let p_heads = sample(between(0,1))
let p_hungry = sample(between(0,1))
let flips = sample(integer(0,5))
let heads = sum(flips, _=>random_binary(p_heads))
// let x = state(
//   { t: _6am, awake: false, hungry: false, meals:0, flips, heads },
//   { p_heads, p_hungry }
// )
let x = new _State2()
x._merge_vars({ t: _6am, awake: false, hungry: false, meals:0, flips, heads })
x._merge_params({ p_heads, p_hungry })
simulate(x, _6am + 3, events)
confine(x.heads, 6)
confine(x.meals, 2)

```
```js:js_removed

// before _State: pps is ~325-335k, aps ~15.5-16.5k
// _State w/o mutation/scheduler-dependency tracking: ~50%
// _State w/ tracking: ~25%

const awake = x => x.awake
const asleep = x => !x.awake
const awake_and_hungry = (x) => x.awake && x.hungry
const sleep = ft => _if(awake, ft, x=>x.awake=false)
const wake = ft => _if(asleep, ft, x=>{
  x.hungry = random_boolean(x.p_hungry)
  x.awake = true
})
const eat = ft => _if(awake_and_hungry, ft, inc({ meals:1, hungry:false }))
const flip = ft => _if(awake, ft, inc(x=>({
  heads:random_binary(x.p_heads),
  flips:1,
})))
const events = name_events(
  // wake up at 8-10am, hungry w/ p_hungry
  () => wake(daily(within(9,1))),
  // eat within 1h of waking if hungry
  () => eat(after(between(0,1))),
  // flip coin at noon w/ p_heads
  () => flip(daily(12)),
  // sleep at 3am
  () => sleep(daily(3))
)

const _sample_options = {
  stats:'mks ess lwr r t',
  max_time:10000,
  table:true,
  plot:true,
  // size:1, // debug
  async:true,
  // workers:navigator.hardwareConcurrency,
}

```
#_util #_async
