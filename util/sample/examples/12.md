#util/sample/examples/12 TODO: describe this and #util/sim
```js:js_input

const heads = sample(integer(0,5))
const p_heads = sample(between(0,1))
const x0 = state({ awake:true, flips:0, heads })
const xt = simulate(x0, 3,
  () => sleep(daily(3)),
  () => wake(daily(within(9,1))),            
  () => breakfast(after(between(0,1))),
  () => flip(p_heads),
)
confine(xt.heads, 6)

```
```js:js_removed

// defining event definition helpers here is more efficient
// also significantly improves readability of simulation code above
const sleep = ft => _if(x=>x.awake, ft, x=>x.awake=false)
const wake =  ft => _if(x=>!x.awake, ft, x=>(x.awake=true,x._breakfast=0))
const breakfast = ft => 
  _if(x=> x.awake && !x._breakfast, ft, inc('_breakfast', .5, 'breakfasts'))
const flip = ph => 
  _do(inc(x=>({ flips:1, heads:random_boolean(ph)?1:0, _:{ph} })))

const _sample_options = { 
  stats:'mks ess wsum r t',
  max_time: 5000,
  plot:true,
  // size:1,
}

```
#_util
