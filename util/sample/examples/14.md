#util/sample/examples/14
```js:js_input

let x = { 
  t: _6am, 
  awake: false,
  wake_hours: [],
  sleep_hours: [],
  sleep_lengths: [],
  median_sleep_hour: sample(between(-1,3)),
  median_wake_hour: sample(between(6,10))
}
simulate(x, _6am + 10, events)
confine(x.wake_hours, dist_logged_wake_hours)
confine(x.sleep_hours, dist_logged_sleep_hours)
confine(x.sleep_lengths, dist_logged_sleep_lengths)
```
```js:js_removed

const dist_logged_wake_hours = dist(event_log('wake').map(e=>e.th))
const dist_logged_sleep_hours = dist(event_log('sleep').map(e=>e.th))
const dist_logged_sleep_lengths = dist(event_log().map((e,j,eJ)=>{
  if (e.keyword == 'wake' && eJ[j+1]?.keyword == 'sleep')
    return (e.t - eJ[j+1].t) * 24
}).filter(defined))

const awake = x => x.awake
const asleep = x => !x.awake
const sleep = ft => _if(awake, ft, x=>{ 
  x.awake=false
  x.sleep_hours.push(x.th)
  x.last_sleep_time = x.t
})
const wake = ft => _if(asleep, ft, x=>{
  x.awake=true
  x.wake_hours.push(x.th)
  if (defined(x.last_sleep_time)) 
    x.sleep_lengths.push((x.t - x.last_sleep_time) * 24)
})
const events = name_events(
  () => wake(daily(x=>within(x.median_wake_hour,1))),
  () => sleep(daily(x=>within(x.median_sleep_hour,1)))
)

const _sample_options = { 
  stats:'mks ess wsum r t',
  max_time:5000,
  max_mks:5,
  table:true,
  plot:true,
  // size:1, // debug
}

```
#_util #_logger